<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>–î–ª—è –ù–∞—Å—Ç—é—à–∏ ‚ù§Ô∏è</title>
<style>
body {
    margin: 0;
    font-family: 'Segoe UI', sans-serif;
    background: linear-gradient(135deg, #ff9a9e, #fad0c4);
    overflow: hidden;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    text-align: center;
}

.container {
    background: white;
    padding: 50px 30px;
    border-radius: 20px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.2);
    width: 90%;
    max-width: 700px;
    min-height: 450px;
    position: relative;
    text-align: center;
    box-sizing: border-box;
}

h1 { font-size: 36px; color: #ff4d6d; margin-bottom: 20px; }
p { font-size: 22px; margin-bottom: 30px; }
button {
    padding: 15px 30px;
    border: none;
    border-radius: 12px;
    font-size: 20px;
    cursor: pointer;
    transition: 0.3s;
    position: absolute;
}

#yesBtn { background-color: #ff4d6d; color: white; left: 20%; bottom: 20px; }
#yesBtn:hover { background-color: #e63956; }
#noBtn { background-color: #ccc; bottom: 20px; right: 20%; width: 140px; height: 60px; }

#musicBtn { position: fixed; top: 20px; right: 20px; padding: 12px 20px; font-size: 18px;
background: #ff4d6d; color: white; border: none; border-radius: 10px; cursor: pointer; z-index: 999; display: block;}

.hidden { display: none; }
#loveMessage { font-size: 26px; margin-top: 20px; color: #ff4d6d; }
.gallery { margin-top: 20px; display: flex; justify-content: center; flex-wrap: wrap;}
.gallery img { width: 150px; margin: 10px; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.2);}
.hearts { position: fixed; top: 0; left: 0; pointer-events: none; z-index: 1;}
.heart { position: absolute; font-size: 24px; animation: float 4s linear infinite;}
@keyframes float {0% { transform: translateY(100vh) scale(1); opacity: 1; } 100% { transform: translateY(-10vh) scale(1.5); opacity: 0; }}

@keyframes shake {0% { transform: translate(0, 0); } 20% { transform: translate(-5px, 0); } 40% { transform: translate(5px, 0); } 60% { transform: translate(-5px, 0); } 80% { transform: translate(5px, 0); } 100% { transform: translate(0, 0); }}

.fade-in { opacity: 0; transition: opacity 2s ease-in; }
.fade-in.show { opacity: 1; }
#thirdBlock { margin-top: 30px; font-size: 24px; color: #ff4d6d; }

.fakeBlock {
    position: absolute;
    top:0; left:0; width:100%; height:100%;
    background: #f8d7da;
    display: flex; justify-content: center; align-items: center;
    flex-direction: column; color: #721c24; font-size: 48px;
    z-index: 100; text-align: center;
}
</style>
</head>
<body>

<div class="container" id="main">
    <div id="initialBlock">
        <h1>üòò–ù–∞—Å—Ç—é—à–∞üíù</h1>
        <p>–¢—ã –±—É–¥–µ—à—å –º–æ–µ–π –≤–∞–ª–µ–Ω—Ç–∏–Ω–∫–æ–π?</p>
        <button id="yesBtn">–î–∞ ü§ç</button>
        <button id="noBtn">–ù–µ—Ç ü•∏</button>
    </div>

    <div id="loveBlock" class="hidden">
        <div id="loveMessage">–Ø —Ç–µ–±—è –ª—é–±–ª—é, –ú–∏–ª–∞—è ü§ç<br>–¢—ã —Å–∞–º–æ–µ –ø—Ä–µ–∫—Ä–∞—Å–Ω–æ–µ, —á—Ç–æ —Å–ª—É—á–∏–ª–æ—Å—å —Å–æ –º–Ω–æ–π üíï</div>
        <div class="gallery" id="gallery">
            <img src="photo1.jpg">
            <img src="photo2.jpg">
        </div>
        <div id="thirdBlock" class="fade-in hidden">
            –ù–∞–≤—Å–µ–≥–¥–∞ —Ç–≤–æ–π, –ù–∞—Å—Ç—é—à–∞ ‚ù§Ô∏è<br>–ü—É–ø—Å–∏–∫ü§™ –ª—é–±–∏—Ç —Ç–µ–±—è –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ üíï
        </div>
    </div>
</div>

<div class="hearts" id="hearts"></div>
<button id="musicBtn">–í–∫–ª—é—á–∏—Ç—å –º—É–∑—ã–∫—É üéµ</button>
<audio id="loveSong" loop><source src="music.mp3" type="audio/mpeg"></audio>

<script>
const yesBtn = document.getElementById("yesBtn");
const noBtn = document.getElementById("noBtn");
const initialBlock = document.getElementById("initialBlock");
const loveBlock = document.getElementById("loveBlock");
const thirdBlock = document.getElementById("thirdBlock");
const hearts = document.getElementById("hearts");
const loveSong = document.getElementById("loveSong");
const musicBtn = document.getElementById("musicBtn");
const emojis = ["‚ù§Ô∏è","üíù","üòò"];
let noBtnJumps = 0; // —Å—á–µ—Ç—á–∏–∫ –ø—Ä—ã–∂–∫–æ–≤
const maxJumps = 4;

noBtn.addEventListener("mouseover", () => {
    if (noBtnJumps < maxJumps) {
        const container = document.getElementById("main");
        const maxX = container.clientWidth - noBtn.offsetWidth - 20;
        const maxY = container.clientHeight - noBtn.offsetHeight - 20;

        const x = Math.random() * maxX;
        const y = Math.random() * maxY;
        noBtn.style.left = x + "px";
        noBtn.style.top = y + "px";

        const colors = ["#ccc","#f28b82","#fbbc04","#34a853","#4285f4"];
        noBtn.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];

        noBtn.style.animation = "shake 0.5s";
        setTimeout(() => { noBtn.style.animation = ""; }, 500);

        noBtnJumps++; // —É–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å—á–µ—Ç—á–∏–∫
    }
});

// –ù–∞–∂–∞—Ç–∏–µ –Ω–∞ "–î–∞"
yesBtn.addEventListener("click", ()=>{
    initialBlock.classList.add("hidden");
    loveBlock.classList.remove("hidden");
    startHearts();
    loveSong.play().catch(()=>musicBtn.style.display="block");
    setTimeout(()=>{ thirdBlock.classList.remove("hidden"); thirdBlock.classList.add("show"); },10000);
});

// –ù–∞–∂–∞—Ç–∏–µ –Ω–∞ "–ù–µ—Ç" ‚Äî —à—É—Ç–∫–∞
noBtn.addEventListener("click", ()=>{
    initialBlock.classList.add("hidden");
    // 1 –±–ª–æ–∫ "–¢—ã —Å–µ—Ä—å–µ–∑–Ω–æ??"
    const fake1 = document.createElement("div");
    fake1.classList.add("fakeBlock");
    fake1.style.background="#f8d7da";
    fake1.innerHTML = "–¢—ã —Å–µ—Ä—å–µ–∑–Ω–æ??";
    document.body.appendChild(fake1);
    startFakeEmojis(["üò¢","üòø","üò≤","üòµ","üòê","üòë","ü´®","üíî"], fake1);
    setTimeout(()=>{
        fake1.remove();
        // 2 –±–ª–æ–∫ "–∞—Ö–∞—Ö—Ö–∞—Ö–∞—Ö–∞ –ù–∞ —à–æ —Ç—ã –Ω–∞–¥–µ—è–ª–∞—Å—å?? –£ —Ç–µ–±—è –Ω–µ—Ç —Ç–∞–∫–æ–≥–æ –≤—ã–±–æ—Ä–∞!"
        const fake2 = document.createElement("div");
        fake2.classList.add("fakeBlock");
        fake2.style.background="#fff3cd";
        fake2.innerHTML = "–∞—Ö–∞—Ö—Ö–∞—Ö–∞—Ö–∞<br>–ù–∞ —à–æ —Ç—ã –Ω–∞–¥–µ—è–ª–∞—Å—å??<br>–£ —Ç–µ–±—è –Ω–µ—Ç —Ç–∞–∫–æ–≥–æ –≤—ã–±–æ—Ä–∞!";
        document.body.appendChild(fake2);
        startFakeEmojis(["ü´µ","ü§£","üòÇ","üòπ"], fake2);
        setTimeout(()=>{
            fake2.remove();
            // –í–æ–∑–≤—Ä–∞—Ç –Ω–∞ –≥–ª–∞–≤–Ω—ã–π –±–ª–æ–∫
            initialBlock.classList.remove("hidden");
        },4000);
    },3000);
});

// –ó–∞–ø—É—Å–∫ –ª–µ—Ç–∞—é—â–∏—Ö —Å–µ—Ä–¥–µ—á–µ–∫
function startHearts(){
    setInterval(()=>{
        const heart=document.createElement("div");
        heart.classList.add("heart");
        heart.innerHTML=emojis[Math.floor(Math.random()*emojis.length)];
        heart.style.left=Math.random()*window.innerWidth+"px";
        heart.style.fontSize=(20+Math.random()*30)+"px";
        hearts.appendChild(heart);
        setTimeout(()=>heart.remove(),4000);
    },100);
}

// –î–ª—è –±–ª–æ–∫–∞ —à—É—Ç–∫–∏ ‚Äî –ª–µ—Ç–∞—é—â–∏–µ —Ç—Ä—è—Å—É—â–∏–µ—Å—è —Å–º–∞–π–ª—ã
function startFakeEmojis(arr,parent){
    const interval = setInterval(()=>{
        const e=document.createElement("div");
        e.classList.add("heart");
        e.innerHTML=arr[Math.floor(Math.random()*arr.length)];
        e.style.left=Math.random()*parent.clientWidth+"px";
        e.style.fontSize=(30+Math.random()*20)+"px";
        parent.appendChild(e);
        setTimeout(()=>e.remove(),3000);
    },100);
}

// –ö–Ω–æ–ø–∫–∞ –≤–∫–ª—é—á–µ–Ω–∏—è –º—É–∑—ã–∫–∏
musicBtn.addEventListener("click", ()=>{
    loveSong.play();
    musicBtn.style.display="none";
});
</script>
</body>
</html>

